{"version":3, "file":"kernel_crm_kanban.js", "sections": [{"offset": { "line": 7, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/crm/kanban/actions.js"],"names":["BX","namespace","CRM","Kanban","Actions","startCallList","grid","createActivity","CrmCallListHelper","gridData","getData","createCallList","entityType","entityIds","getCheckedId","response","type","isPlainObject","SUCCESS","ERRORS","error","join","Utils","showErrorDialog","DATA","data","RESTRICTION","B24","licenseInfoPopup","show","HEADER","CONTENT","callListId","ID","BXIM","Crm","Activity","Planner","showEdit","PROVIDER_ID","PROVIDER_TYPE_ID","ASSOCIATED_ENTITY_ID","notifySimpleAction","code","params","message","mess","k","replace","UI","Notification","Center","notify","content","simpleAction","disableNotify","action","isArray","i","c","length","hideItem","ajax","onApplyFilter","stopActionPanel","ignore","toUpperCase","this","fatal","bind","setAssigned","assigned","ids","assignedId","entityId","assignedName","name","changeCategory","category","categoryLink","linksPath","dealCategory","url","id","categoryName","util","htmlspecialchars","NAME","changeColumn","column","firstRenderComplete","entity_id","status","statusName","entity_type","delete","deleteAll","confirm","open","flag","refreshaccount","email","CrmActivityEditor","CrmActivityProvider","items","communications","push","addEmail","communicationsLoaded","task","window","CrmOwnerTypeAbbr","resolve","add","UF_CRM_TASK","TITLE","TAGS","acceptFunc","dialog","PopupWindowManager","create","titleBar","width","autoHide","overlay","closeByEsc","closeIcon","draggable","restrict","setContent","setButtons","PopupWindowButton","text","className","events","click","popupWindow","close"],"mappings":"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","file":"actions.map.js"}},{"offset": { "line": 11, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/crm/kanban/grid.js"],"names":["BX","namespace","CRM","Kanban","Grid","options","apply","this","arguments","addCustomEvent","delegate","onBeforeItemCaptured","onBeforeItemRestored","onBeforeItemMoved","onItemMoved","onColumnAddedAsync","onColumnUpdated","onColumnMoved","onColumnRemovedAsync","onColumnLoadAsync","onItemDragStartHandler","setKanbanDragMode","unSetKanbanDragMode","stopActionPanel","onApplyFilter","onApplyFilterCounter","onPartialEditorClose","proxy","onPullEventHandlerCrm","onCrmActivityTodoChecked","onSliderClose","startActionPanel","resetMultiSelectMode","onPopupShow","bindEvents","prototype","__proto__","constructor","accessNotifyDialog","loadNewInterval","ajaxParams","customFieldsPopup","customFieldsContainer","actionPanel","currentNode","itemMoving","actionItems","checkedItems","progressBarEditor","ccItem","popupCancel","dropZonesShow","getChecked","getCheckedId","checkedItemsId","i","length","push","id","checkItem","item","itemToArray","getItem","util","in_array","checked","addClass","checkedButton","container","onCustomEvent","unCheckItem","itemInArray","splice","indexOf","removeClass","getPopupCancel","content","PopupWindow","window","className","autoHide","overlay","maxWidth","buttons","PopupWindowButton","text","events","click","close","bind","closeByEsc","onPopupClose","closeIcon","setContent","getItemsForAction","removeItem","items","el","isItKanban","target","findParent","code","document","body","renderLayout","gridData","getData","setDropareaFirstItemWidth","contactCenterShow","hideItem","head","styleNode","create","attrs","type","styles","createTextNode","layout","gridContainer","firstChild","offsetWidth","appendChild","getAjaxHandlerPath","data","isNotEmptyString","ajaxHandlerPath","setAjaxParams","ajax","onsuccess","onfailure","dataType","url","sessid","bitrix_sessid","extra","params","entity_type","entityType","version","action","isMultiSelectMode","method","accessNotify","Intranet","NotifyDialog","listUserData","notificationHandlerUrl","popupTexts","sendButton","message","title","header","description","setUsersForNotify","admins","show","addStage","column","promise","Promise","targetColumn","getPreviousColumnSibling","targetColumnId","getId","columnName","getName","columnColor","getColor","afterColumnId","error","resetActionPanel","fulfill","Utils","showErrorDialog","fatal","reject","removeStage","columnId","delete","getColumnItems","page","getPagination","getPage","isArray","addItemTop","getColumn","columnItems","getItems","targetId","incPrice","price","addItem","moveItem","beforeItem","currentColumn","targetColumnData","c","itemData","currentColumnId","required","required_fm","newRequired","j","cc","key","itemsChecked","total","textContent","innerHTML","addItems","loadNew","force","entityId","hidden","entity_id","min_entity_id","lastId","worked","titlesForRender","existItem","existData","existColumn","newColumn","decPrice","parseFloat","updateItem","setData","renderSubTitle","onItemDragStart","setDragMode","DragMode","ITEM","itemColumnData","itemColumnId","getColumnId","parseInt","itemId","enableDropping","setLastPosition","promises","dropEvent","isActionAllowed","drop","getDropZone","oldColumn","oldNextSiblingId","getNextItemSibling","newNextSibling","groupIds","ids","setTimeout","Actions","getDropZoneArea","getDropZoneTimeout","event","skipHandler","isDropZone","DropZone","denyAction","Crm","PartialEditorDialog","entityTypeId","entityTypeInt","fieldNames","open","KanbanComponent","dropPopup","runtimePrice","setDataKey","handlerData","grid","skip","afterItemId","afterItem","getPreviousItemSibling","prev_entity_id","status","color","afterColumn","filterId","values","filterInstance","fadeOut","autoResolve","exist","columns","getColumns","removeColumn","removeItems","loadData","dropZone","dropZones","getDropZones","removeDropZone","dropzones","addDropZone","addClassEar","fadeIn","ear","querySelector","classList","contains","toggleCC","menu","PopupMenu","getCurrentMenu","unhideItem","isVisible","setOptions","visible","isCountable","incrementTotal","render","addMenuToggleCS","menuId","bindElement","hasClass","addMenuItem","delimiter","onclick","e","addMenuCustomFieldsPopup","toLowerCase","getMenuItems","offsetLeft","lightShadow","titleBar","html","draggable","contentColor","saveData","checkboxes","findChild","tagName","getAttribute","fields","setTitleBar","gridId","formContent","props","ID","name","NAME","customFields","dataset","label","LABEL","for","children","adjustPosition","sender","eventArgs","ASSIGNED_BY_ID","0","ASSIGNED_BY_ID_label","ACTIVITY_COUNTER","filter","Main","filterManager","getById","api","getApi","setFields","eventParams","isCancelled","stilError","entityData","newColumnId","requiredKeys","itrError","deletedFM","fmKey","IS_EMPTY","kStatus","stRequired","ii","deleteFromArray","captureItem","command","OWNER_TYPE_NAME","OWNER_ID","matches","originalTag","match","RegExp","settingName","activityId","ownerId","ownerTypeId","deadlined","activityErrorTotal","getDataKey","activityProgress","switchPlanner","SliderEvent","maskUrl","entityPath","sliderUrl","slider","getUrl","replace","popupWindow","uniquePopupId","substr","setMultiSelectMode","multiSelectMode","initActionPanel","UI","ActionPanel","renderTo","removeLeftPosition","maxHeight","parentPosition","draw","appendItem","icon","deleteAll","ignore","categories","drops","dropData","htmlspecialchars","menuWindow","changeColumn","category","changeCategory","userSelector","EntityEditorUserSelector","callback","selector","setAssigned","task","startCallList","showPanel","hidePanel","calculateTotalCheckItems","setTotalSelectedItems","onMultiSelectMode","unSelectItem"],"mappings":"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","file":"grid.map.js"}},{"offset": { "line": 15, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/crm/kanban/item.js"],"names":["BX","namespace","CRM","Kanban","Item","options","apply","this","arguments","container","timer","popupTooltip","plannerCurrent","prototype","__proto__","constructor","lastPosition","columnId","targetId","checked","clipTitle","fullTitle","title","arrTitle","split","lastWord","length","splice","join","setDataKey","key","val","data","getData","setData","getDataKey","switchClass","el","className","mode","addClass","removeClass","switchVisible","style","display","hide","getLastPosition","setLastPosition","column","getColumn","sibling","getNextItemSibling","getId","render","layout","special_type","getStartLayout","onCustomEvent","grid","ccItem","createLayout","color","getColor","rgb","util","hex2rgb","rgba","r","g","b","link","innerHTML","name","setAttribute","totalPrice","price_formatted","date","textContent","contactId","contactName","contactTooltip","planner","switchPlanner","contactTypes","i","c","type","disabledClass","toLowerCase","unbindAll","bind","delegate","clickContact","proxy_context","showTooltip","message","toUpperCase","hideTooltip","getCloseStartLayout","create","props","events","click","e","toggleCC","stopPropagation","gridData","getGridData","children","dataset","url","text","entityType","attrs","href","rights","canImport","html","selectItem","checkedButton","unSelectItem","target","getGrid","unCheckItem","getChecked","resetMultiSelectMode","stopActionPanel","checkItem","onMultiSelectMode","startActionPanel","calculateTotalCheckItems","dblclick","fireEvent","mouseleave","removeHoverClass","appendChild","return","returnApproach","repeated","total","showActivity","activityExist","showCurrentPlan","activityEmpty","getActivityMessage","activityPlan","showPlannerMenu","contactPhone","data-type","contactEmail","contactIm","contactBlock","createShadow","isChecked","content","eventLink","querySelector","destroy","getPreloader","loadCurrentPlan","ajax","action","entity_id","setContent","adjustPosition","error","Utils","showErrorDialog","PopupWindowManager","closeIcon","autoHide","closeByEsc","contentColor","angle","offsetLeft","overlay","backgroundColor","opacity","onAfterPopupShow","onPopupClose","unbind","window","proxy","adjustPopup","show","fields","Array","isArray","menuItems","push","value","onclick","clickContactItem","PopupMenu","zIndex","item","BXIM","phoneTo","ENTITY_TYPE","contactType","ENTITY_ID","openMessengerSlider","RECENT","MENU","hasActivityEditor","CrmActivityEditor","items","hasSlider","top","Bitrix24","Slider","CrmActivityProvider","addEmail","ownerType","ownerID","id","communications","entityId","entityTitle","communicationsLoaded","location","selectPlannerMenu","Crm","Activity","Planner","showEdit","TYPE_ID","CrmActivityType","OWNER_TYPE","OWNER_ID","taskData","UF_CRM_TASK","CrmOwnerTypeAbbr","resolve","TITLE","TAGS","add","visitParams","CrmActivityVisit","menu","getCurrentMenu","close","getPlannerMenu","canUseVisit","node","popupMenu","isNode","addCustomEvent","columnData","activityProgress","activityErrorTotal","reckonActivitylessItems","userId","assignedBy","context","white","PopupWindow","darkMode","background","itemBlock","popup","getCurrentPopup","getPopupWindow","onDragDrop","itemNode","x","y","hideDragTarget","draggableItem","event","success","getItemByElement","DragEvent","setItem","setTargetColumn","setTargetItem","isActionAllowed","moveItem","onDragStart","dragElement","itemContainer","bodyContainer","moveItems","reverse","getContainer","cloneNode","width","offsetWidth","maxHeight","offsetHeight","classList","document","body","getBodyContainer","position"],"mappings":"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","file":"item.map.js"}},{"offset": { "line": 19, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/crm/kanban/column.js"],"names":["BX","namespace","CRM","Kanban","Column","options","apply","this","arguments","prototype","__proto__","constructor","renderSubtitleTime","subtitleNode","pathToAdd","editorNodeTransition","editorNodeWaiting","editorNodeIsBlock","editorNodeIsVissible","editorNode","editorNodeContainer","editorNodeCreate","editorLoaded","quickFormSaveButton","quickFormCancelButton","editorId","editor","loader","currencyFormat","price","currency","useTemplate","result","format","Currency","getCurrencyFormat","CURRENT_DECIMALS","DECIMALS","HIDE_ZERO","parseInt","util","number_format","DEC_POINT","THOUSANDS_SEP","FORMAT_STRING","replace","decPrice","val","data","getData","sum","parseFloat","setData","incPrice","getAddColumnButton","columnData","type","layout","info","style","marginRight","create","getAddPath","gridData","getGridData","entityType","toLowerCase","wrapperId","button","querySelector","getAttribute","indexOf","addItem","item","beforeItem","Item","Error","container","classList","contains","removeClass","setColumnId","getId","checked","unSelectItem","index","array_search","items","splice","push","isCountable","incrementTotal","getGrid","isRendered","render","addItems","getChecked","forSend","afterItemId","afterItem","getPreviousItemSibling","i","length","visible","getColumn","renderSubTitle","itemIndex","parentColumn","ajax","action","entity_id","prev_entity_id","status","error","Utils","showErrorDialog","bind","arr","prop","in_array","id","total","textContent","onDragDrop","itemNode","x","y","hideDragTarget","event","success","draggableItem","getItemByElement","DragEvent","setItem","setTargetColumn","onCustomEvent","moveItem","processQuickEditor","save","getLoader","show","addClass","resetQuickEditor","height","offsetHeight","innerHTML","showQuickEditor","hidden","animateShowQuickEditor","quickEditorPath","context","PARAMS","params","post","ACTION","ACTION_ENTITY_TYPE_NAME","ACTION_ENTITY_ID","GUID","IS_EMBEDDED","ENABLE_REQUIRED_USER_FIELD_CHECK","FIELDS","CONTEXT","appendChild","hide","setTimeout","setHeightAuto","addCustomEvent","window","sender","eventArgs","entityData","getContext","statusKey","loadNew","entityId","ev","key","hideQuickFormEditor","enabledAddButton","isQuickFormPopup","target","isQuickFormEditor","insertBefore","firstChild","opacity","marginBottom","removeQuickFormEditor","parentNode","removeChild","disabledAddButton","subTitleAddButton","encodingType","isShowFormButton","isNode","findParent","className","subTitlePrice","subTitlePriceText","attrs","children","sum_old","sum_init","renderSubTitleAnimation","Math","abs","element","value","round","plusTitle","quickForm","loadEditor","sort","message","props","transition","animationDelay","events","click","PreventDefault","text","document","getElementsByTagName","SidePanel","Instance","open","hasClass","href","Loader","start","step","finalCall","timeout","callee","handleAddColumnButtonClick","rights","canAddColumn","Intranet","accessNotify","switchToEditMode"],"mappings":"CAAA,WAKCA,GAAGC,UAAU,iBAQbD,GAAGE,IAAIC,OAAOC,OAAS,SAASC,GAE/BL,GAAGG,OAAOC,OAAOE,MAAMC,KAAMC,YAG9BR,GAAGE,IAAIC,OAAOC,OAAOK,WACpBC,UAAWV,GAAGG,OAAOC,OAAOK,UAC5BE,YAAaX,GAAGE,IAAIC,OAAOC,OAC3BQ,mBAAoB,EACpBC,aAAc,KACdC,UAAW,KACXC,qBAAsB,IACtBC,kBAAmB,KACnBC,kBAAmB,KACnBC,qBAAsB,MACtBC,WAAY,KACZC,oBAAqB,KACrBC,iBAAkB,KAClBC,aAAc,MACdC,oBAAqB,KACrBC,sBAAuB,KACvBC,SAAU,KACVC,OAAQ,KACRC,OAAQ,KASRC,eAAgB,SAAUC,EAAOC,EAAUC,GAE1C,IAAIC,EAAS,GACZC,EAED,UAAWjC,GAAGkC,WAAa,YAC3B,CACC,OAAOL,EAGRE,IAAgBA,EAChBE,EAASjC,GAAGkC,SAASC,kBAAkBL,GAEvC,KAAMG,UAAiBA,IAAW,SAClC,CACCA,EAAOG,iBAAmBH,EAAOI,SACjCJ,EAAOK,UAAY,IACnB,GAAIL,EAAOK,YAAc,KAAOT,GAASU,SAASV,EAAO,IACzD,CACCI,EAAOG,iBAAmB,EAG3BJ,EAAShC,GAAGwC,KAAKC,cAChBZ,EACAI,EAAOG,iBACPH,EAAOS,UACPT,EAAOU,eAER,GAAIZ,EACJ,CACCC,EAASC,EAAOW,cAAcC,QAAQ,YAAa,KAAOb,IAG5D,OAAOA,GAQRc,SAAU,SAASC,GAElB,IAAIC,EAAOzC,KAAK0C,UAChBD,EAAKE,IAAMC,WAAWH,EAAKE,KAAOH,EAClCxC,KAAK6C,QAAQJ,IAQdK,SAAU,SAASN,GAElB,IAAIC,EAAOzC,KAAK0C,UAChBD,EAAKE,IAAMC,WAAWH,EAAKE,KAAOH,EAClCxC,KAAK6C,QAAQJ,IAOdM,mBAAoB,WAEnB,IAAIC,EAAahD,KAAK0C,UAEtB,GAAIM,EAAWC,OAAS,MACxB,CACCjD,KAAKkD,OAAOC,KAAKC,MAAMC,YAAc,IACrC,OAAO5D,GAAG6D,OAAO,WAGlB,CACC,OAAO7D,GAAGG,OAAOC,OAAOK,UAAU6C,mBAAmBhD,MAAMC,KAAMC,aAQnEsD,WAAY,WAEX,GAAIvD,KAAKO,YAAc,KACvB,CACC,OAAOP,KAAKO,UAGb,IAAIiD,EAAWxD,KAAKyD,cACpB,IAAIR,EAAOO,EAASE,WAAWC,cAC/B,IAAIC,EAAWC,EAEf,GAAIZ,IAAS,UACb,CACCW,EAAY,0BAGb,CACCA,EAAY,WAAaX,EAAO,QAGjC,GAAIxD,GAAGmE,GACP,CACCC,EAASpE,GAAGmE,GAAWE,cAAc,KACrC9D,KAAKO,UAAYsD,EAAOE,aAAa,QACrC/D,KAAKO,WAAaP,KAAKO,UAAUyD,QAAQ,QAAU,EAAI,IAAM,IAG9D,OAAOhE,KAAKO,WAGb0D,QAAS,SAASC,EAAMC,GAEvB,KAAMD,aAAgBzE,GAAGG,OAAOwE,MAChC,CACC,MAAM,IAAIC,MAAM,8CAGjB,GAAGH,EAAKhB,OAAOoB,WAAaJ,EAAKhB,OAAOoB,UAAUC,UAAUC,SAAS,6BACrE,CACC/E,GAAGgF,YAAYP,EAAKhB,OAAOoB,UAAW,6BAGvCJ,EAAKQ,YAAY1E,KAAK2E,SAGtB,GAAGT,EAAKU,QACR,CACCV,EAAKW,eAGN,IAAIC,EAAQrF,GAAGwC,KAAK8C,aAAaZ,EAAYnE,KAAKgF,OAClD,GAAIF,GAAS,EACb,CACC9E,KAAKgF,MAAMC,OAAOH,EAAO,EAAGZ,OAG7B,CACClE,KAAKgF,MAAME,KAAKhB,GAGjB,GAAIA,EAAKiB,cACT,CACCnF,KAAKoF,iBAGN,GAAIpF,KAAKqF,UAAUC,aACnB,CACCtF,KAAKuF,WAIPC,SAAU,SAASR,EAAOb,GAEzB,IAAIa,EACJ,CACCA,EAAQhF,KAAKqF,UAAUI,aAGxB,IAAIC,KAEJ,IAAIZ,EAAQrF,GAAGwC,KAAK8C,aAAaZ,EAAYnE,KAAKgF,OAElD,IAAIW,EAAc,EAClB,IAAIC,EAAY5F,KAAK6F,uBAAuB1B,GAC5C,GAAIyB,EACJ,CACCD,EAAcC,EAAUjB,QAGzB,IAAK,IAAImB,EAAI,EAAGA,EAAId,EAAMe,OAAQD,IAClC,CACCd,EAAMc,GAAGE,QAAU,KAEnB,GAAGhB,EAAMc,GAAGG,cAAgBjG,KAC5B,CAECgF,EAAMc,GAAGG,YAAY1D,SAASyC,EAAMc,GAAGrD,KAAKnB,OAC5C0D,EAAMc,GAAGG,YAAYC,iBACrBlG,KAAK8C,SAASkC,EAAMc,GAAGrD,KAAKnB,OAG7B,GAAG0D,EAAMc,GAAG5C,OAAOoB,WAAaU,EAAMc,GAAG5C,OAAOoB,UAAUC,UAAUC,SAAS,6BAC7E,CACC/E,GAAGgF,YAAYO,EAAMc,GAAG5C,OAAOoB,UAAW,6BAG3CU,EAAMc,GAAGpB,YAAY1E,KAAK2E,SAI1B,GAAGK,EAAMc,GAAGlB,QACZ,CACCI,EAAMc,GAAGjB,eAGV,IAAIsB,EAAY1G,GAAGwC,KAAK8C,aAAaC,EAAMc,GAAI9F,KAAKgF,OAEpD,GAAGb,EACH,CACC,GAAIgC,GAAa,EACjB,CACCnG,KAAKgF,MAAMC,OAAOkB,EAAW,EAAGnB,EAAMc,QAGvC,CACC9F,KAAKgF,MAAMC,OAAOH,EAAO,EAAGE,EAAMc,SAIpC,CACC9F,KAAKgF,MAAMC,OAAOjF,KAAKgF,MAAMe,OAAQ,EAAGf,EAAMc,IAG/C,GAAGd,EAAMc,GAAGX,cACZ,CACCnF,KAAKoF,iBAGNJ,EAAMc,GAAGM,aAAe,KAExBV,EAAQR,KAAKF,EAAMc,GAAGnB,SAIvB3E,KAAKqF,UAAUgB,MACbC,OAAQ,SACRC,UAAWb,EACXc,eAAgBb,EAChBc,OAAQzG,KAAK2E,SAEd,SAASlC,GAER,GAAIA,GAAQA,EAAKiE,MACjB,CACCjH,GAAGG,OAAO+G,MAAMC,gBAAgBnE,EAAKiE,MAAO,QAE5CG,KAAK7G,MACP,SAAS0G,GAERjH,GAAGG,OAAO+G,MAAMC,gBAAgB,UAAYF,EAAO,OAClDG,KAAK7G,OAGR,GAAIA,KAAKqF,UAAUC,aACnB,CAEC,IAAIwB,KAEJ,IAAI,IAAIC,KAAQ/G,KAAKgF,MACrB,CACC,IAAIvF,GAAGwC,KAAK+E,SAAShH,KAAKgF,MAAM+B,GAAME,GAAIH,GAC1C,CACCA,EAAI5B,KAAKlF,KAAKgF,MAAM+B,GAAME,KAI5BjH,KAAKuF,SAELvF,KAAKkD,OAAOgE,MAAMC,YAAcL,EAAIf,SAItCqB,WAAY,SAASC,EAAUC,EAAGC,GAEjCvH,KAAKwH,iBAEL,IAAIC,EACHC,EAED,IAAIC,EAAgB3H,KAAKqF,UAAUuC,iBAAiBP,GAEpDI,EAAQ,IAAIhI,GAAGG,OAAOiI,UACtBJ,EAAMK,QAAQH,GACdF,EAAMM,gBAAgB/H,MAGtBP,GAAGuI,cAAchI,KAAKqF,UAAW,iCAAkCoC,IAEnEC,EAAU1H,KAAKqF,UAAU4C,SAASN,EAAe3H,MAEjD,GAAI0H,EACJ,CACCjI,GAAGuI,cAAchI,KAAKqF,UAAW,2BAA4BsC,EAAe3H,KAAM,SAQpFkI,mBAAoB,WAEnBlI,KAAKmB,OAAOgH,OACZnI,KAAKoI,YAAYC,OACjB5I,GAAG6I,SAAStI,KAAKgB,oBAAqB,eACtChB,KAAKuI,oBAONA,iBAAkB,WAEjBvI,KAAKa,oBAAoBuC,MAAMoF,OAASxI,KAAKa,oBAAoB4H,aAAe,KAChFzI,KAAKa,oBAAoB6H,UAAY,IAQtCC,gBAAiB,SAASC,GAEzB,GAAIA,IAAW,KACf,CACC5I,KAAK6I,yBACL7I,KAAKoI,YAAYC,OAIlB,IAAI7E,EAAWxD,KAAKyD,cACpB,IAAIC,EAAaF,EAASE,WAC1B1D,KAAKkB,SAAW,gBAAkBlB,KAAK2E,QAAU,IAAMjB,EAAWC,cAElE,UAAWH,EAASsF,gBAAgBpF,EAAWC,iBAAmB,YAClE,CACC,OAGD,IAAIoF,GACHC,OAAQxF,EAASyF,QAElBF,EAAUrF,IAAe,OAAU,WAAa,aAAgB1D,KAAK2E,QAErE,IAAK3E,KAAKa,oBAAoB6H,UAC9B,CACCjJ,GAAG4G,KAAK6C,KACP1F,EAASsF,gBAAgBpF,EAAWC,gBAEnCwF,OAAQ,sBACRC,wBAAyB1F,EACzB2F,iBAAkB,EAClBC,KAAMtJ,KAAKkB,SACXqI,YAAa,IACbC,iCAAkC,IAClCC,OACC/F,IAAe,QACZ,QAAS,4BAA6B,WACtC,QAAS,UACbgG,QAASX,GAEV,SAAStH,GAERzB,KAAKa,oBAAoB6H,UAAYjH,EACrCzB,KAAKa,oBAAoB8I,YAAY3J,KAAKc,kBAE1C,GAAG8H,EACH,CACC,OAGDnJ,GAAGgF,YAAYzE,KAAKgB,oBAAqB,eACzChB,KAAKoI,YAAYwB,OACjB5J,KAAK6I,yBACL7I,KAAKS,kBAAoBoJ,WAAW,WACnC7J,KAAK8J,iBACJjD,KAAK7G,MAAOA,KAAKQ,uBAClBqG,KAAK7G,WAIT,CACCA,KAAKoI,YAAYwB,OACjB5J,KAAK6I,yBACLpJ,GAAGgF,YAAYzE,KAAKgB,oBAAqB,eACzC6I,WAAW,WACV7J,KAAK8J,iBACJjD,KAAK7G,MAAOA,KAAKQ,sBAIpB,IAAKR,KAAKe,aACV,CACCtB,GAAGsK,eACFC,OACA,6BACA,SAASC,EAAQC,GAEhB,GAAID,EAAOtF,UAAY3E,KAAKkB,SAC5B,CACClB,KAAKmB,OAAS8I,IAEdpD,KAAK7G,OAGRP,GAAGsK,eACFC,OACA,oBACA,SAASG,GAER,IAAIpB,EAAUoB,EAAWF,OAAOG,aAChC,IAAIC,EAAa3G,IAAe,OAC1B,WACA,YACN,GAAIqF,EAAQsB,KAAerK,KAAK2E,QAChC,CACC3E,KAAKqF,UAAUiF,QACdH,EAAWI,SACX,QAGD1D,KAAK7G,OAGRP,GAAGoH,KAAKmD,OAAQ,UAAW,SAASQ,GAEnC,IAAIxK,KAAKW,qBACT,CACC,OAGD,GAAG6J,EAAGC,MAAQ,SAAWzK,KAAKW,qBAC9B,CACCX,KAAKkI,qBACL,OAGD,GAAGsC,EAAGC,MAAQ,WAAazK,KAAKU,kBAChC,CACCV,KAAK0K,sBACL1K,KAAK2K,qBAEL9D,KAAK7G,OAEPP,GAAGoH,KAAKmD,OAAQ,QAAS,SAASQ,GAEjC,GAAGxK,KAAK4K,iBAAiBJ,EAAGK,SAAW7K,KAAK8K,kBAAkBN,EAAGK,QACjE,CACC,OAGD7K,KAAK0K,sBACL1K,KAAK2K,oBACJ9D,KAAK7G,OACPP,GAAGsK,eAAeC,OAAQ,4BAA6BhK,KAAK0K,oBAAoB7D,KAAK7G,OACrFP,GAAGsK,eAAeC,OAAQ,4BAA6BhK,KAAK2K,iBAAiB9D,KAAK7G,OAClFP,GAAGsK,eAAeC,OAAQ,uBAAwBhK,KAAK0K,oBAAoB7D,KAAK7G,OAChFP,GAAGsK,eAAeC,OAAQ,uBAAwBhK,KAAK2K,iBAAiB9D,KAAK7G,OAC7EP,GAAGsK,eAAeC,OAAQ,8BAA+BhK,KAAK0K,oBAAoB7D,KAAK7G,OACvFP,GAAGsK,eAAeC,OAAQ,8BAA+BhK,KAAK2K,iBAAiB9D,KAAK7G,OAGrFA,KAAKe,aAAe,KAEpBf,KAAKkD,OAAO8B,MAAM+F,aAAa/K,KAAKY,WAAYZ,KAAKkD,OAAO8B,MAAMgG,aAOnEN,oBAAqB,WAEpBjL,GAAGgF,YAAYzE,KAAKY,WAAY,8BAChCZ,KAAKY,WAAWwC,MAAM6H,QAAU,IAChCjL,KAAKY,WAAWwC,MAAMoF,OAASxI,KAAKY,WAAW6H,aAAe,KAC9DzI,KAAKY,WAAWwC,MAAM8H,aAAe,IAErCrB,WAAW,WACV7J,KAAKY,WAAWwC,MAAMoF,OAAS,KAC9B3B,KAAK7G,OAEPA,KAAKU,kBAAoB,KAEzBmJ,WAAW,WACV7J,KAAKU,kBAAoB,MACzBV,KAAKW,qBAAuB,OAC3BkG,KAAK7G,MAAOA,KAAKQ,qBAAuB,IAI3C2K,sBAAuB,WAEtBnL,KAAKY,WAAWwK,WAAWC,YAAYrL,KAAKY,aAG7C0K,kBAAmB,SAAST,GAE3BpL,GAAG6I,SAASuC,EAAQ,4CAGrBF,iBAAkB,WAEjBlL,GAAGgF,YAAYzE,KAAKkD,OAAOqI,kBAAmB,4CAO/C1C,uBAAwB,WAEvBpJ,GAAG6I,SAAStI,KAAKY,WAAY,8BAC7BZ,KAAKY,WAAWwC,MAAM6H,QAAU,IAChCjL,KAAKY,WAAWwC,MAAMoF,OAAS,MAC/BxI,KAAKY,WAAWwC,MAAM8H,aAAe,MAErCrB,WAAW,WACV7J,KAAKY,WAAWwC,MAAMoF,OAASxI,KAAKyD,cAAc+H,eAAiB,OAAS,QAAU,SACrF3E,KAAK7G,OAEPA,KAAKU,kBAAoB,KAEzBmJ,WAAW,WACV7J,KAAKU,kBAAoB,MACzBV,KAAKW,qBAAuB,KAC5BX,KAAKa,oBAAoBuC,MAAMoF,OAAS,QACvC3B,KAAK7G,MAAOA,KAAKQ,qBAAuB,IAG3CsJ,cAAe,WAEd9J,KAAKY,WAAWwC,MAAMoF,OAAS,QAQhCiD,iBAAkB,SAASZ,GAE1B,IAAIa,EAASjM,GAAGkM,WAAWd,GAC1Be,UAAW,sCAGZ,OAAOF,IAAW1L,KAAKY,YAQxBgK,iBAAkB,SAASC,GAE1B,OAAOpL,GAAGkM,WAAWd,GACpBe,UAAW,kBASbd,kBAAmB,SAASD,GAE3B,OAAOpL,GAAGkM,WAAWd,GACpBe,UAAW,2BAQb1F,eAAgB,WAEf,IAAIzD,EAAOzC,KAAK0C,UAChB,IAAIc,EAAWxD,KAAKyD,cAIpB,GAAID,EAASE,aAAe,OAC5B,CACC,IAAK1D,KAAKkD,OAAO2I,cACjB,CACC7L,KAAKkD,OAAO4I,kBAAoBrM,GAAG6D,OAAO,QACzCyI,OACCH,UAAW,kCAGb5L,KAAKkD,OAAO2I,cAAgBpM,GAAG6D,OAAO,OACrCyI,OACCH,UAAW,0BAEZI,UACChM,KAAKkD,OAAO4I,0BAMhB,CACC9L,KAAKkD,OAAO2I,cAAgB,KAI7B,GAAI7L,KAAKkD,OAAO4I,kBAChB,CACCrJ,EAAKE,IAAMC,WAAWH,EAAKE,KAC3BF,EAAKwJ,QAAUxJ,EAAKwJ,QAAUxJ,EAAKwJ,QAAUxJ,EAAKyJ,SAClDzJ,EAAKyJ,SAAWzJ,EAAKE,IAErB3C,KAAKmM,wBACJ1J,EAAKwJ,QACLxJ,EAAKE,IACLyJ,KAAKC,IAAI5J,EAAKwJ,QAAUxJ,EAAKE,KAAO,GACpC3C,KAAKkD,OAAO4I,kBACZ,SAAUQ,EAASC,GAElBD,EAAQ5D,UAAY1I,KAAKqB,eACxB+K,KAAKI,MAAMD,GACX/I,EAASjC,SACT,MAEDkB,EAAKwJ,QAAUxJ,EAAKE,KACnBkE,KAAK7G,OAGRA,KAAK6C,QAAQJ,GAGd,GAAIzC,KAAKM,aACT,CACC,OAAON,KAAKM,aAKb,IAAImM,EAAY,GACfC,EAAY,KACZC,EAAa,MAEd,GACClK,EAAKmK,OAAS,MAEbpJ,EAASE,aAAe,QACxBF,EAASE,aAAe,QAG1B,CACCiJ,EAAa,KACbF,EAAYhN,GAAGoN,QACd,yBAA2BrJ,EAASE,YAItC,GAAIgJ,EACJ,CACC1M,KAAKY,WAAanB,GAAG6D,OAAO,OAC3BwJ,OACClB,UAAW,yBAEZxI,OACC2J,WAAY/M,KAAKQ,qBAAuB,MAEzCwL,UACChM,KAAKa,oBAAsBpB,GAAG6D,OAAO,OACpCwJ,OACClB,UAAW,mCAEZxI,OACC4J,eAAgBhN,KAAKQ,qBAAuB,WAMhDf,GAAGsK,eAAeC,OAAQ,mCAAoC,WAE7DhK,KAAK0K,sBACL1K,KAAK2K,oBACJ9D,KAAK7G,OAEPA,KAAKc,iBAAmBrB,GAAG6D,OAAO,OACjCwJ,OACClB,UAAW,iCAEZI,UACChM,KAAKgB,oBAAsBvB,GAAG6D,OAAO,SACpCyI,OACC9I,KAAM,SACNsJ,MAAO9M,GAAGoN,QAAQ,yBAClBjB,UAAW,mCAEZqB,QACCC,MAAO,SAAS1C,GACfxK,KAAKkI,qBACLzI,GAAG0N,eAAe3C,IACjB3D,KAAK7G,SAGTA,KAAKiB,sBAAwBxB,GAAG6D,OAAO,SACtCyI,OACC9I,KAAM,SACNsJ,MAAO9M,GAAGoN,QAAQ,wBAClBjB,UAAW,gCAEZqB,QACCC,MAAO,WACNlN,KAAK2K,mBACL3K,KAAK0K,uBACJ7D,KAAK7G,YAOZ,GAAIwD,EAASE,aAAe,QAAUF,EAASE,aAAe,OAC9D,CACC1D,KAAKkD,OAAOqI,kBAAoB9L,GAAG6D,OAAO,OACzC8J,KAAMX,EACNV,OACCH,UAAW,qCAEZqB,QACCC,MAAOR,EACJ,SAASlC,GACV,GAAG6C,SAASC,qBAAqB,QAAQ,GAAG/I,UAAUC,SAAS,SAC/D,CACC/E,GAAG8N,UAAUC,SAASC,KAAK,wBAC3B,OAGD,GAAGhO,GAAGiO,SAAS1N,KAAKkD,OAAOqI,kBAAmB,4CAA8CvL,KAAKW,qBACjG,CACClB,GAAG0N,eAAe3C,GAClB,OAGD/K,GAAGuI,cAAchI,KAAM,oCAEvBA,KAAKsL,kBAAkBd,EAAGK,QAC1B7K,KAAK2I,kBACLlJ,GAAG0N,eAAe3C,IACjB3D,KAAK7G,MACL,YAKN,CACCA,KAAKkD,OAAOqI,kBACXvL,KAAKuD,aACF9D,GAAG6D,OAAO,KACX8J,KAAMX,EACNV,OACCH,UAAW,oCACX+B,KAAM3N,KAAKuD,cAEVC,EAASE,aAAe,OACrB,YACA,cAEJ1D,KAAK2E,WAEH,KAIP3E,KAAKM,aAAeb,GAAG6D,OAAO,OAC7B0I,UACChM,KAAKkD,OAAO2I,cACZa,EAEE1M,KAAKkD,OAAOqI,kBAGbvL,KAAKuD,aACF9D,GAAG6D,OAAO,KACX8J,KAAMX,EACNV,OACCH,UAAW,oCACX+B,KAAM3N,KAAKuD,cAEVC,EAASE,aAAe,OACrB,YACA,cAEJ1D,KAAK2E,WAEF,KAEP3E,KAAKY,cAIP,GAAI+L,EACJ,CACC9C,WAAW,WACV7J,KAAK2I,gBAAgB,OACpB9B,KAAK7G,OAGR,OAAOA,KAAKM,cAOb8H,UAAW,WAEV,IAAIpI,KAAKoB,OACT,CACCpB,KAAKoB,OAAS,IAAI3B,GAAGmO,QACpB/C,OAAQ7K,KAAKY,aAIf,OAAOZ,KAAKoB,QAYb+K,wBAAyB,SAAS0B,EAAOtB,EAAOuB,EAAMxB,EAASyB,GAE9D,IAAIjI,GAAK+H,EACT,IAAIrL,EAAMI,WAAW2J,GACrB,IAAIyB,EAAUhO,KAAKK,mBAEnB,GAAIyF,EAAItD,EACR,EACC,WAEC,GAAIsD,GAAKtD,EACT,CACCqH,WAAW5J,UAAUgO,OAAQD,GAC7B1B,EAAQnF,YAAc1H,GAAGwC,KAAKC,cAAc4D,EAAG,EAAG,IAAK,KACvDA,EAAIA,EAAIgI,MAGT,CACC,UAAWC,IAAc,WACzB,CACCA,EAAUzB,EAASC,MAZtB,QAiBI,GAAIzG,EAAItD,EACb,EACC,WAEC,GAAIsD,GAAKtD,EACT,CACCqH,WAAW5J,UAAUgO,OAAQD,GAC7B1B,EAAQnF,YAAc1H,GAAGwC,KAAKC,cAAc4D,EAAG,EAAG,IAAK,KACvDA,EAAIA,EAAIgI,MAGT,CACC,UAAWC,IAAc,WACzB,CACCA,EAAUzB,EAASC,MAZtB,QAiBI,UAAWwB,IAAc,WAC9B,CACCA,EAAUzB,EAASC,KASrB2B,2BAA4B,SAASzG,GAEpC,IAAIjE,EAAWxD,KAAKyD,cAEpB,GACCD,EAAS2K,QACT3K,EAAS2K,OAAOC,aAEjB,CACC3O,GAAGG,OAAOC,OAAOK,UAAUgO,2BAA2BnO,MAAMC,KAAMC,gBAE9D,UAAWR,GAAG4O,WAAa,YAChC,CACCrO,KAAKqF,UAAUiJ,iBAQjBC,iBAAkB,WAEjB,IAAI/K,EAAWxD,KAAKyD,cAEpB,GACCD,EAAS2K,QACT3K,EAAS2K,OAAOC,aAEjB,CACC3O,GAAGG,OAAOC,OAAOK,UAAUqO,iBAAiBxO,MAAMC,KAAMC,gBAEpD,UAAWR,GAAG4O,WAAa,YAChC,CACCrO,KAAKqF,UAAUiJ,mBAp8BnB","file":"column.map.js"}},{"offset": { "line": 23, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/crm/kanban/dropzone.js"],"names":["BX","namespace","CRM","Kanban","DropZone","options","apply","this","arguments","droppedItems","prototype","__proto__","constructor","onDragDrop","itemNode","x","y","draggableItem","gridData","getGrid","getData","data","dropZonesShow","getChecked","length","entityType","type","getPopupCancel","message","show","i","removeClass","layout","container","resetMultiSelectMode","getItemByElement","captureItem","getDropZoneArea","unsetActive","hideItem","getColumn","decPrice","price","renderSubTitle","item","event","DropZoneEvent","setItem","setDropZone","onCustomEvent","isActionAllowed","empty","droppedItem","setCaptured","animateRemove","captureTimeout","setTimeout","hide","bind","getDropZoneTimeout","restore","clearTimeout","unsetCaptured","unhideItem","incPrice","getContainer","create","attrs","className","data-id","getId","children","getNameContainer","getCancelLink","getBgContainer","makeDroppable","dropZonesArray","prop","dropZoneArea","dropZones","push","style","minWidth","maxWidth"],"mappings":"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","file":"dropzone.map.js"}}]}